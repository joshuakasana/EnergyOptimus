{% extends "layout.html" %}
{% block content %}
    <div class="px-4 pt-5 my-5 border-bottom">
        <h1 class="display-4 fw-bold text-center text-body-emphasis">Profile</h1>
        <div class="col-lg-6 mx-auto">
            <p class="lead mb-4">Your Set Preferences</p>
            <div class="bd-example m-0 border-0">
    
                <ul class="list-group list-group-flush">    
                    <li class="list-group-item">
                        <div class="container d-flex flex-wrap justify-content-center">
                            <div class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto">
                                Temperature level
                            </div>
                    
                            <div class="text-end">
                                {{ temp }}
                            </div>
                        </div>  
                    </li>

                    <li class="list-group-item">
                        <div class="container d-flex flex-wrap justify-content-center">
                            <div class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto">
                                Humidity level
                            </div>
                    
                            <div class="text-end">
                                {{ humid }}
                            </div>
                        </div>  
                    </li>
                    <li class="list-group-item">
                        <div class="container d-flex flex-wrap justify-content-center">
                            <div class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto">
                                Lighting Preference
                            </div>
                    
                            <div class="text-end">
                                {{ light }}
                            </div>
                        </div>  
                    </li>
                    <li class="list-group-item">
                        <div class="container d-flex flex-wrap justify-content-center">
                            <div class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto">
                                Television Watch time
                            </div>
                    
                            <div class="text-end">
                                {{ tv }}
                            </div>
                        </div>  
                    </li>
                    <li class="list-group-item">
                        <div class="container d-flex flex-wrap justify-content-center">
                            <div class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto">
                                Sleep Hours
                            </div>
                    
                            <div class="text-end">
                                {{ sleep }}
                            </div>
                        </div>  
                    </li>
                    <li class="list-group-item">
                        <div class="container d-flex flex-wrap justify-content-center">
                            <div class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto">
                                Home Occupancy Hours
                            </div>
                    
                            <div class="text-end">
                                {{ occupancy }}
                            </div>
                        </div>  
                    </li>
                    <li class="list-group-item">
                        <div class="container d-flex flex-wrap justify-content-center">
                            <div class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto">
                                Appliance Usage Hours
                            </div>
                    
                            <div class="text-end">
                                {{ appliance }}
                            </div>
                        </div>  
                    </li>
                </ul>
                
          </div>
        </div>
        <div class="overflow-hidden" style="max-height: 180vh;">
            <div class="profile-modal-content rounded-4 shadow">
                <div class="col-lg-12">
                    <form class="p-4 p-md-5 border rounded-3 bg-body-tertiary bg-light" method="POST" action="">
                        {{ pform.hidden_tag() }}
                        <fieldset class="form-group">
                            <legend class="border-bottom mb-4">Change Preferences</legend>
                            <div class="row">
                                <!-- Temperature Preference -->
                                <h5 class="text-muted">Temperature</h5>
                                <div class="form-group col-sm-6">
                                    {{ pform.temperature_preference.label(class="form-control-label") }}
                                    {% if pform.temperature_preference.errors %}
                                        {{ pform.temperature_preference(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.temperature_preference.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.temperature_preference(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <!-- Lighting Preference -->
                                <h5 class="text-muted mt-3">Lighting Preference</h5>
                                <div class="form-group col-sm-6"> <!-- From -->
                                    {{ pform.lighting_preference_from.label(class="form-control-label") }}
                                    {% if pform.lighting_preference_from.errors %}
                                        {{ pform.lighting_preference_from(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.lighting_preference_from.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.lighting_preference_from(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <div class="form-group col-sm-6"> <!-- To -->
                                    {{ pform.lighting_preference_to.label(class="form-control-label") }}
                                    {% if pform.lighting_preference_to.errors %}
                                        {{ pform.lighting_preference_to(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.lighting_preference_to.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.lighting_preference_to(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <!-- TV Watchtime Preference -->
                                <h5 class="text-muted mt-3">TV Watchtime</h5>
                                <div class="form-group col-sm-6"> <!-- From -->
                                    {{ pform.tv_watchtime_from.label(class="form-control-label") }}
                                    {% if pform.tv_watchtime_from.errors %}
                                        {{ pform.tv_watchtime_from(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.tv_watchtime_from.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.tv_watchtime_from(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <div class="form-group col-sm-6"> <!-- To -->
                                    {{ pform.tv_watchtime_to.label(class="form-control-label") }}
                                    {% if pform.tv_watchtime_to.errors %}
                                        {{ pform.tv_watchtime_to(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.tv_watchtime_to.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.tv_watchtime_to(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <!-- Humidity levels -->
                                <h5 class="text-muted mt-3">Humidity Levels</h5>
                                <div class="form-group col-sm-6">
                                    {{ pform.humidity_levels.label(class="form-control-label") }}
                                    {% if pform.humidity_levels.errors %}
                                        {{ pform.humidity_levels(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.humidity_levels.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.humidity_levels(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <!-- Appliance Usage Period -->
                                <h5 class="text-muted mt-3">Appliance Usage Time</h5>
                                <div class="form-group col-sm-6"> <!-- From -->
                                    {{ pform.appliance_preference_from.label(class="form-control-label") }}
                                    {% if pform.appliance_preference_from.errors %}
                                        {{ pform.appliance_preference_from(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.appliance_preference_from.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.appliance_preference_from(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <div class="form-group col-sm-6"> <!-- To -->
                                    {{ pform.appliance_preference_to.label(class="form-control-label") }}
                                    {% if pform.appliance_preference_to.errors %}
                                        {{ pform.appliance_preference_to(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.appliance_preference_to.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.appliance_preference_to(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <!-- Sleep Time  -->
                                <h5 class="text-muted mt-3">Preferred Time of Sleep</h5>
                                <div class="form-group col-sm-6"> <!-- From -->
                                    {{ pform.sleep_time_from.label(class="form-control-label") }}
                                    {% if pform.sleep_time_from.errors %}
                                        {{ pform.sleep_time_from(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.sleep_time_from.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.sleep_time_from(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <div class="form-group col-sm-6"> <!-- To -->
                                    {{ pform.sleep_time_to.label(class="form-control-label") }}
                                    {% if pform.sleep_time_to.errors %}
                                        {{ pform.sleep_time_to(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.sleep_time_to.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.sleep_time_to(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <!-- Occupancy Preference -->
                                <h5 class="text-muted mt-3">When are you home</h5> 
                                <div class="form-group col-sm-6"> <!-- From -->
                                    {{ pform.occupancy_preference_from.label(class="form-control-label") }}
                                    {% if pform.occupancy_preference_from.errors %}
                                        {{ pform.occupancy_preference_from(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.occupancy_preference_from.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.occupancy_preference_from(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <div class="form-group col-sm-6"> <!-- To -->
                                    {{ pform.occupancy_preference_to.label(class="form-control-label") }}
                                    {% if pform.occupancy_preference_to.errors %}
                                        {{ pform.occupancy_preference_to(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in pform.occupancy_preference_to.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ pform.occupancy_preference_to(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                            </div>      
                        </fieldset>
                        <div class="form-group mt-5">
                            {{ pform.submit(class="w-100 btn btn-lg btn-primary btn-outline-info") }}
                        </div>
                        
                    </form>
                </div>
                <div class="border-top pt-3">
                    <small class="text-body-secondary">
                        Wanna go <a class="ml-2" href="{{ url_for('home') }}">back?</a>
                    </small>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='scripts/profileModal.js') }}"></script>

{% endblock content %}